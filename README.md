# DA-simulator


task 6
Ожидается, что на выходе будет DAG в airflow, который будет считаться каждый день за вчера. 

1. Параллельно будем обрабатывать две таблицы. В feed_actions для каждого юзера посчитаем число просмотров и лайков контента. В message_actions для каждого юзера считаем, сколько он получает и отсылает сообщений, скольким людям он пишет, сколько людей пишут ему. Каждая выгрузка должна быть в отдельном таске.
2. Далее объединяем две таблицы в одну.
3. Для этой таблицы считаем все эти метрики в разрезе по полу, возрасту и ос. Делаем три разных таска на каждый срез.
4. И финальные данные со всеми метриками записываем в отдельную таблицу в ClickHouse.
5. Каждый день таблица должна дополняться новыми данными. 

Структура финальной таблицы должна быть такая:

Дата - event_date
Название среза - dimension
Значение среза - dimension_value
Число просмотров - views
Числой лайков - likes
Число полученных сообщений - messages_received
Число отправленных сообщений - messages_sent
От скольких пользователей получили сообщения - users_received
Скольким пользователям отправили сообщение - users_sent
Срез - это os, gender и age

task 7.1
Давайте наладим автоматическую отправку аналитической сводки в телеграм каждое утро! Для этого понадобится:

Создайте своего телеграм-бота с помощью @BotFather

Напишите скрипт для сборки отчета по ленте новостей. Отчет должен состоять из двух частей:

    текст с информацией о значениях ключевых метрик за предыдущий день
    график с значениями метрик за предыдущие 7 дней

Отобразите в отчете следующие ключевые метрики: 

    DAU 
    Просмотры
    Лайки
    CTR

Автоматизируйте отправку отчета с помощью Airflow. Код для сборки отчета разместите в GitLab.

task 7.2
Соберите отчет по работе всего приложения как единого целого. 

Продумайте, какие метрики необходимо отобразить в этом отчете? Как можно показать их динамику? 	Приложите к отчету графики или файлы, чтобы сделать его более наглядным и информативным. Отчет должен быть не просто набором графиков или текста, а помогать отвечать бизнесу на вопросы о работе всего приложения совокупно. В отчете обязательно должны присутствовать метрики приложения как единого целого, можно так же отобразить метрики по каждой из частей приложения - по ленте новостей и по мессенджеру.  

Автоматизируйте отправку отчета с помощью Airflow.
